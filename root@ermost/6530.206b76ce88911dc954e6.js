/*! For license information please see 6530.206b76ce88911dc954e6.js.LICENSE.txt */
(self.webpackChunkmattermost_webapp=self.webpackChunkmattermost_webapp||[]).push([[6530],{17727:(t,e,n)=>{"use strict";var i=n(82109),r=n(31913),o=n(2492),s=n(47293),a=n(35005),h=n(60614),c=n(36707),u=n(69478),f=n(98052),l=o&&o.prototype;if(i({target:"Promise",proto:!0,real:!0,forced:!!o&&s((function(){l.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=c(this,a("Promise")),n=h(t);return this.then(n?function(n){return u(e,t()).then((function(){return n}))}:t,n?function(n){return u(e,t()).then((function(){throw n}))}:t)}}),!r&&h(o)){var p=a("Promise").prototype.finally;l.finally!==p&&f(l,"finally",p,{unsafe:!0})}},84922:function(t,e,n){"use strict";function i(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}var r="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},o="undefined"!=typeof window&&window===this?this:void 0!==n.g&&null!=n.g?n.g:this;function s(){s=function(){},o.Symbol||(o.Symbol=c)}function a(t,e){this.b=t,r(this,"description",{configurable:!0,writable:!0,value:e})}a.prototype.toString=function(){return this.b};var h,c=(h=0,function t(e){if(this instanceof t)throw new TypeError("Symbol is not a constructor");return new a("jscomp_symbol_"+(e||"")+"_"+h++,e)});function u(){s();var t=o.Symbol.iterator;t||(t=o.Symbol.iterator=o.Symbol("Symbol.iterator")),"function"!=typeof Array.prototype[t]&&r(Array.prototype,t,{configurable:!0,writable:!0,value:function(){return function(t){return u(),(t={next:t})[o.Symbol.iterator]=function(){return this},t}(i(this))}}),u=function(){}}function f(t,e){if(e){var n=o;t=t.split(".");for(var i=0;i<t.length-1;i++){var s=t[i];s in n||(n[s]={}),n=n[s]}(e=e(i=n[t=t[t.length-1]]))!=i&&null!=e&&r(n,t,{configurable:!0,writable:!0,value:e})}}function l(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:i(t)}}f("Array.prototype.keys",(function(t){return t||function(){return function(t,e){u(),t instanceof String&&(t+="");var n=0,i={next:function(){if(n<t.length){var r=n++;return{value:e(r,t[r]),done:!1}}return i.next=function(){return{done:!0,value:void 0}},i.next()}};return i[Symbol.iterator]=function(){return i},i}(this,(function(t){return t}))}})),f("Promise",(function(t){function e(t){this.h=0,this.m=void 0,this.b=[];var e=this.j();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function n(){this.b=null}function i(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;n.prototype.h=function(t){if(null==this.b){this.b=[];var e=this;this.j((function(){e.m()}))}this.b.push(t)};var r=o.setTimeout;n.prototype.j=function(t){r(t,0)},n.prototype.m=function(){for(;this.b&&this.b.length;){var t=this.b;this.b=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(t){this.l(t)}}}this.b=null},n.prototype.l=function(t){this.j((function(){throw t}))},e.prototype.j=function(){function t(t){return function(i){n||(n=!0,t.call(e,i))}}var e=this,n=!1;return{resolve:t(this.L),reject:t(this.l)}},e.prototype.L=function(t){if(t===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.M(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.K(t):this.w(t)}},e.prototype.K=function(t){var e=void 0;try{e=t.then}catch(t){return void this.l(t)}"function"==typeof e?this.N(e,t):this.w(t)},e.prototype.l=function(t){this.B(2,t)},e.prototype.w=function(t){this.B(1,t)},e.prototype.B=function(t,e){if(0!=this.h)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.h);this.h=t,this.m=e,this.I()},e.prototype.I=function(){if(null!=this.b){for(var t=0;t<this.b.length;++t)s.h(this.b[t]);this.b=null}};var s=new n;return e.prototype.M=function(t){var e=this.j();t.F(e.resolve,e.reject)},e.prototype.N=function(t,e){var n=this.j();try{t.call(e,n.resolve,n.reject)}catch(t){n.reject(t)}},e.prototype.then=function(t,n){function i(t,e){return"function"==typeof t?function(e){try{r(t(e))}catch(t){o(t)}}:e}var r,o,s=new e((function(t,e){r=t,o=e}));return this.F(i(t,r),i(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.F=function(t,e){function n(){switch(i.h){case 1:t(i.m);break;case 2:e(i.m);break;default:throw Error("Unexpected state: "+i.h)}}var i=this;null==this.b?s.h(n):this.b.push(n)},e.resolve=i,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=l(t),o=r.next();!o.done;o=r.next())i(o.value).F(e,n)}))},e.all=function(t){var n=l(t),r=n.next();return r.done?i([]):new e((function(t,e){function o(e){return function(n){s[e]=n,0==--a&&t(s)}}var s=[],a=0;do{s.push(void 0),a++,i(r.value).F(o(s.length-1),e),r=n.next()}while(!r.done)}))},e})),function(e,n,i){var r;(r=i.define)&&r.amd?r([],(function(){return n})):(r=i.modules)?r["FlexSearch".toLowerCase()]=n:t.exports=n}(0,function t(e){function n(t,e){var n=e?e.id:t&&t.id;this.id=n||0===n?n:C++,this.init(t,e),a(this,"index",(function(){return this.a?Object.keys(this.a.index[this.a.keys[0]].f):Object.keys(this.f)})),a(this,"length",(function(){return this.index.length}))}function i(t,e,n,i){return this.D!==this.i&&(this.A=this.A.concat(n),this.D++,i&&this.A.length>=i&&(this.D=this.i),this.D===this.i&&(this.cache&&this.u.set(e,this.A),this.H&&this.H(this.A))),this}function r(t){var e,n=S();for(e in t)if(t.hasOwnProperty(e)){var i=t[e];b(i)?n[e]=i.slice(0):k(i)?n[e]=r(i):n[e]=i}return n}function o(t,e){for(var n=t.length,i=x(e),r=[],o=0,s=0;o<n;o++){var a=t[o];(i&&e(a)||!i&&!e[a])&&(r[s++]=a)}return r}function s(t,e,n,i,r,o,s,a,h,c){if(n=y(n,s?0:r,a,o,e,h,c),a){a=n.page;var u=n.next;n=n.result}if(s)e=this.where(s,null,r,n);else{for(e=n,n=this.v,r=e.length,o=Array(r),s=0;s<r;s++)o[s]=n[e[s]];e=o}return n=e,i&&(x(i)||(1<(O=i.split(":")).length?i=v:(O=O[0],i=d)),n.sort(i)),n=g(a,u,n),this.cache&&this.u.set(t,n),n}function a(t,e,n){Object.defineProperty(t,e,{get:n})}function h(t){return new RegExp(t,"g")}function c(t,e){for(var n=0;n<e.length;n+=2)t=t.replace(e[n],e[n+1]);return t}function u(t,e,n,i,r,o,s,a){return e[n]?e[n]:(r=r?(a-(s||a/1.5))*o+(s||a/1.5)*r:o,e[n]=r,r>=s&&((t=(t=t[a-(r+.5>>0)])[n]||(t[n]=[]))[t.length]=i),r)}function f(t,e){if(t)for(var n=Object.keys(t),i=0,r=n.length;i<r;i++){var o=n[i],s=t[o];if(s)for(var a=0,h=s.length;a<h;a++){if(s[a]===e){1===h?delete t[o]:s.splice(a,1);break}k(s[a])&&f(s[a],e)}}}function l(t){for(var e="",n="",i="",r=0;r<t.length;r++){var o=t[r];o!==n&&(r&&"h"===o?(i="a"===i||"e"===i||"i"===i||"o"===i||"u"===i||"y"===i,(("a"===n||"e"===n||"i"===n||"o"===n||"u"===n||"y"===n)&&i||" "===n)&&(e+=o)):e+=o),i=r===t.length-1?"":t[r+1],n=o}return e}function p(t,e){return 0>(t=t.length-e.length)?1:t?-1:0}function d(t,e){return(t=t[O])<(e=e[O])?-1:t>e?1:0}function v(t,e){for(var n=O.length,i=0;i<n;i++)t=t[O[i]],e=e[O[i]];return t<e?-1:t>e?1:0}function g(t,e,n){return t?{page:t,next:e?""+e:null,result:n}:n}function y(t,e,n,i,r,o,s){var a=[];if(!0===n){n="0";var h=""}else h=n&&n.split(":");var c=t.length;if(1<c){var u,f,l,p,d=S(),v=[],y=0,b=!0,x=0;if(h)if(2===h.length){var k=h;h=!1}else h=l=parseInt(h[0],10);if(s){for(u=S();y<c;y++)if("not"===r[y]){var E=t[y],I=E.length;for(f=0;f<I;f++)u["@"+E[f]]=1}else var N=y+1;if(w(N))return g(n,P,a);y=0}else var O=m(r)&&r;for(;y<c;y++){var R=y===(N||c)-1;if(!O||!y)if((f=O||r&&r[y])&&"and"!==f){if("or"!==f)continue;p=!1}else p=o=!0;if(I=(E=t[y]).length){if(b){if(!C){C=E;continue}var j=C.length;for(f=0;f<j;f++){var T="@"+(b=C[f]);s&&u[T]||(d[T]=1,o||(a[x++]=b))}var C=null;b=!1}for(T=!1,f=0;f<I;f++){var A="@"+(j=E[f]),M=o?d[A]||0:y;if(!(!M&&!i||s&&u[A]||!o&&d[A]))if(M===y){if(R){if((!l||--l<x)&&(a[x++]=j,e&&x===e))return g(n,x+(h||0),a)}else d[A]=y+1;T=!0}else i&&((A=v[M]||(v[M]=[]))[A.length]=j)}if(p&&!T&&!i)break}else if(p&&!i)return g(n,P,E)}if(C)if(y=C.length,s)for(f=h?parseInt(h,10):0;f<y;f++)u["@"+(t=C[f])]||(a[x++]=t);else a=C;if(i)for(x=a.length,k?(y=parseInt(k[0],10)+1,f=parseInt(k[1],10)+1):(y=v.length,f=0);y--;)if(j=v[y]){for(I=j.length;f<I;f++)if(i=j[f],(!s||!u["@"+i])&&(a[x++]=i,e&&x===e))return g(n,y+":"+f,a);f=0}}else!c||r&&"not"===r[0]||(a=t[0],h&&(h=parseInt(h[0],10)));if(e){s=a.length,h&&h>s&&(h=0);var P=(h=h||0)+e;P<s?a=a.slice(h,P):(P=0,h&&(a=a.slice(h)))}return g(n,P,a)}function m(t){return"string"==typeof t}function b(t){return t.constructor===Array}function x(t){return"function"==typeof t}function k(t){return"object"==typeof t}function w(t){return void 0===t}function E(t){for(var e=Array(t),n=0;n<t;n++)e[n]=S();return e}function S(){return Object.create(null)}function I(){var t,e;self.onmessage=function(n){if(n=n.data)if(n.search){var i=e.search(n.content,n.threshold?{limit:n.limit,threshold:n.threshold,where:n.where}:n.limit);self.postMessage({id:t,content:n.content,limit:n.limit,result:i})}else n.add?e.add(n.id,n.content):n.update?e.update(n.id,n.content):n.remove?e.remove(n.id):n.clear?e.clear():n.info?((n=e.info()).worker=t,console.log(n)):n.register&&(t=n.id,n.options.cache=!1,n.options.async=!1,n.options.worker=!1,e=new(e=new Function(n.register.substring(n.register.indexOf("{")+1,n.register.lastIndexOf("}")))())(n.options))}}function N(n,i,r,o){n=e("flexsearch","id"+n,I,(function(t){(t=t.data)&&t.result&&o(t.id,t.content,t.result,t.limit,t.where,t.cursor,t.suggest)}),i);var s=t.toString();return r.id=i,n.postMessage({register:s,options:r,id:i}),n}var O,R={encode:"icase",g:"forward",split:/\W+/,cache:!1,async:!1,i:!1,G:!1,a:!1,c:9,threshold:0,depth:0},j={memory:{encode:"extra",g:"strict",threshold:0,c:1},speed:{encode:"icase",g:"strict",threshold:1,c:3,depth:2},match:{encode:"extra",g:"full",threshold:1,c:3},score:{encode:"extra",g:"strict",threshold:1,c:9,depth:4},balance:{encode:"balance",g:"strict",threshold:0,c:3,depth:3},fast:{encode:"icase",g:"strict",threshold:8,c:9,depth:1}},T=[],C=0,A={},M={};n.create=function(t,e){return new n(t,e)},n.registerMatcher=function(t){for(var e in t)t.hasOwnProperty(e)&&T.push(h(e),t[e]);return this},n.registerEncoder=function(t,e){return _[t]=e.bind(_),this},n.registerLanguage=function(t,e){return A[t]=e.filter,M[t]=e.stemmer,this},n.encode=function(t,e){return _[t](e)},n.prototype.init=function(t,e){if(this.h=[],e){var o=e.preset;t=e}else t||(t=R),o=t.preset;if(e={},m(t)?((e=j[t])||console.warn("Preset not found: "+t),t={}):o&&((e=j[o])||console.warn("Preset not found: "+o)),o=t.worker)if("undefined"==typeof Worker)t.worker=!1,this.b=null;else{var s=parseInt(o,10)||4;this.w=-1,this.D=0,this.A=[],this.H=null,this.b=Array(s);for(var a=0;a<s;a++)this.b[a]=N(this.id,a,t,i.bind(this))}if(this.g=t.tokenize||e.g||this.g||R.g,this.split=w(o=t.split)?this.split||R.split:m(o)?h(o):o,this.G=t.rtl||this.G||R.G,this.async="undefined"==typeof Promise||w(o=t.async)?this.async||R.async:o,this.i=w(o=t.worker)?this.i||R.i:o,this.threshold=w(o=t.threshold)?e.threshold||this.threshold||R.threshold:o,this.c=w(o=t.resolution)?o=e.c||this.c||R.c:o,o<=this.threshold&&(this.c=this.threshold+1),this.depth="strict"!==this.g||w(o=t.depth)?e.depth||this.depth||R.depth:o,this.j=(o=w(o=t.encode)?e.encode||R.encode:o)&&_[o]&&_[o].bind(_)||(x(o)?o:this.j||!1),(o=t.matcher)&&this.addMatcher(o),o=(e=t.lang)||t.filter){if(m(o)&&(o=A[o]),b(o)){s=this.j,a=S();for(var c=0;c<o.length;c++){var u=s?s(o[c]):o[c];a[u]=1}o=a}this.filter=o}if(o=e||t.stemmer){for(var f in e=m(o)?M[o]:o,s=this.j,a=[],e)e.hasOwnProperty(f)&&(c=s?s(f):f,a.push(h(c+"($|\\W)"),s?s(e[f]):e[f]));this.stemmer=a}if(this.a=a=(o=t.doc)?r(o):this.a||R.a,this.s=E(this.c-(this.threshold||0)),this.o=S(),this.f=S(),a){if(this.v=S(),t.doc=null,f=a.index={},e=a.keys=[],s=a.field,c=a.tag,u=a.store,b(a.id)||(a.id=a.id.split(":")),u){var l=S();if(m(u))l[u]=1;else if(b(u))for(var p=0;p<u.length;p++)l[u[p]]=1;else k(u)&&(l=u);a.store=l}if(c){if(this.B=S(),u=S(),s)if(m(s))u[s]=t;else if(b(s))for(l=0;l<s.length;l++)u[s[l]]=t;else k(s)&&(u=s);for(b(c)||(a.tag=c=[c]),s=0;s<c.length;s++)this.B[c[s]]=S();this.I=c,s=u}if(s){if(!b(s))if(k(s)){var d=s;a.field=s=Object.keys(s)}else a.field=s=[s];for(a=0;a<s.length;a++)b(c=s[a])||(d&&(t=d[c]),e[a]=c,s[a]=c.split(":")),f[c]=new n(t)}t.doc=o}return this.m=!0,this.u=!!(this.cache=o=w(o=t.cache)?this.cache||R.cache:o)&&new z(o),this},n.prototype.encode=function(t){return t&&(T.length&&(t=c(t,T)),this.h.length&&(t=c(t,this.h)),this.j&&(t=this.j(t)),this.stemmer&&(t=c(t,this.stemmer))),t},n.prototype.addMatcher=function(t){var e,n=this.h;for(e in t)t.hasOwnProperty(e)&&n.push(h(e),t[e]);return this},n.prototype.add=function(t,e,n,i,r){if(this.a&&k(t))return this.l("add",t,e);if(e&&m(e)&&(t||0===t)){var s="@"+t;if(this.f[s]&&!i)return this.update(t,e);if(this.i)return++this.w>=this.b.length&&(this.w=0),this.b[this.w].postMessage({add:!0,id:t,content:e}),this.f[s]=""+this.w,n&&n(),this;if(!r){if(this.async&&"function"!=typeof importScripts){var a=this;return s=new Promise((function(n){setTimeout((function(){a.add(t,e,null,i,!0),a=null,n()}))})),n?(s.then(n),this):s}if(n)return this.add(t,e,null,i,!0),n(),this}if(!(e=this.encode(e)).length)return this;r=x(n=this.g)?n(e):e.split(this.split),this.filter&&(r=o(r,this.filter));var h=S();h._ctx=S();for(var c=r.length,f=this.threshold,l=this.depth,p=this.c,d=this.s,v=this.G,g=0;g<c;g++){var y=r[g];if(y){var b=y.length,w=(v?g+1:c-g)/c,I="";switch(n){case"reverse":case"both":for(var N=b;--N;)u(d,h,I=y[N]+I,t,v?1:(b-N)/b,w,f,p-1);I="";case"forward":for(N=0;N<b;N++)u(d,h,I+=y[N],t,v?(N+1)/b:1,w,f,p-1);break;case"full":for(N=0;N<b;N++)for(var O=(v?N+1:b-N)/b,R=b;R>N;R--)u(d,h,I=y.substring(N,R),t,O,w,f,p-1);break;default:if(b=u(d,h,y,t,1,w,f,p-1),l&&1<c&&b>=f)for(b=h._ctx[y]||(h._ctx[y]=S()),y=this.o[y]||(this.o[y]=E(p-(f||0))),0>(w=g-l)&&(w=0),(I=g+l+1)>c&&(I=c);w<I;w++)w!==g&&u(y,b,r[w],t,0,p-(w<g?g-w:w-g),f,p-1)}}}this.f[s]=1,this.m=!1}return this},n.prototype.l=function(t,e,n){if(b(e)){var i=e.length;if(i--){for(var r=0;r<i;r++)this.l(t,e[r]);return this.l(t,e[i],n)}}else{var o,s=this.a.index,a=this.a.keys,h=this.a.tag;r=this.a.store;var c=this.a.id;i=e;for(var u=0;u<c.length;u++)i=i[c[u]];if("remove"===t&&(delete this.v[i],c=a.length,c--)){for(e=0;e<c;e++)s[a[e]].remove(i);return s[a[c]].remove(i,n)}if(h){for(o=0;o<h.length;o++){var f=h[o],l=e;for(c=f.split(":"),u=0;u<c.length;u++)l=l[c[u]];l="@"+l}o=(o=this.B[f])[l]||(o[l]=[])}for(h=0,f=(c=this.a.field).length;h<f;h++){u=c[h],l=e;for(var p=0;p<u.length;p++)l=l[u[p]];u=s[a[h]],p="add"===t?u.add:u.update,h===f-1?p.call(u,i,l,n):p.call(u,i,l)}if(r){for(n=Object.keys(r),t=S(),s=0;s<n.length;s++)if(r[a=n[s]])for(a=a.split(":"),h=c=void 0,f=0;f<a.length;f++)c=(c||e)[l=a[f]],h=(h||t)[l]=c;e=t}o&&(o[o.length]=e),this.v[i]=e}return this},n.prototype.update=function(t,e,n){return this.a&&k(t)?this.l("update",t,e):(this.f["@"+t]&&m(e)&&(this.remove(t),this.add(t,e,n,!0)),this)},n.prototype.remove=function(t,e,n){if(this.a&&k(t))return this.l("remove",t,e);var i="@"+t;if(this.f[i]){if(this.i)return this.b[this.f[i]].postMessage({remove:!0,id:t}),delete this.f[i],e&&e(),this;if(!n){if(this.async&&"function"!=typeof importScripts){var r=this;return i=new Promise((function(e){setTimeout((function(){r.remove(t,null,!0),r=null,e()}))})),e?(i.then(e),this):i}if(e)return this.remove(t,null,!0),e(),this}for(e=0;e<this.c-(this.threshold||0);e++)f(this.s[e],t);this.depth&&f(this.o,t),delete this.f[i],this.m=!1}return this},n.prototype.search=function(t,e,n,i){if(k(e)){if(b(e))for(var r=0;r<e.length;r++)e[r].query=t;else e.query=t;t=e,e=1e3}else e&&x(e)?(n=e,e=1e3):e||0===e||(e=1e3);if(!this.i){var a=[],h=t;if(k(t)&&!b(t)){n||(n=t.callback)&&(h.callback=null);var c=t.sort,u=t.page;e=t.limit,_=t.threshold;var f=t.suggest;t=t.query}if(this.a){_=this.a.index;var l,d,v=h.where,g=h.bool||"or",w=h.field,E=g;if(w)b(w)||(w=[w]);else if(b(h)){var I=h;w=[],E=[];for(var N=0;N<h.length;N++)r=(i=h[N]).bool||g,w[N]=i.field,E[N]=r,"not"===r?l=!0:"and"===r&&(d=!0)}else w=this.a.keys;for(g=w.length,N=0;N<g;N++)I&&(h=I[N]),u&&!m(h)&&(h.page=null,h.limit=0),a[N]=_[w[N]].search(h,0);if(n)return n(s.call(this,t,E,a,c,e,f,v,u,d,l));if(this.async){var O=this;return new Promise((function(n){Promise.all(a).then((function(i){n(s.call(O,t,E,i,c,e,f,v,u,d,l))}))}))}return s.call(this,t,E,a,c,e,f,v,u,d,l)}if(_||(_=this.threshold||0),!i){if(this.async&&"function"!=typeof importScripts){var R=this;return _=new Promise((function(t){setTimeout((function(){t(R.search(h,e,null,!0)),R=null}))})),n?(_.then(n),this):_}if(n)return n(this.search(h,e,null,!0)),this}if(!t||!m(t))return a;if(h=t,this.cache)if(this.m){if(n=this.u.get(t))return n}else this.u.clear(),this.m=!0;if(!(h=this.encode(h)).length)return a;n=x(n=this.g)?n(h):h.split(this.split),this.filter&&(n=o(n,this.filter)),I=n.length,i=!0,r=[];var j=S(),T=0;if(1<I&&(this.depth&&"strict"===this.g?g=!0:n.sort(p)),!g||(N=this.o))for(var C=this.c;T<I;T++){var A=n[T];if(A){if(g){if(!w)if(N[A])w=A,j[A]=1;else if(!f)return a;if(f&&T===I-1&&!r.length)g=!1,j[A=w||A]=0;else if(!w)continue}if(!j[A]){var M=[],P=!1,F=0,L=g?N[w]:this.s;if(L)for(var J=void 0,W=0;W<C-_;W++)(J=L[W]&&L[W][A])&&(M[F++]=J,P=!0);if(P)w=A,r[r.length]=1<F?M.concat.apply([],M):M[0];else if(!f){i=!1;break}j[A]=1}}}else i=!1;return i&&(a=y(r,e,u,f)),this.cache&&this.u.set(t,a),a}this.H=n,this.D=0,this.A=[];for(var _=0;_<this.i;_++)this.b[_].postMessage({search:!0,limit:e,content:t})},n.prototype.find=function(t,e){return this.where(t,e,1)[0]||null},n.prototype.where=function(t,e,n,i){var r,o=this.v,s=[],a=0;if(k(t)){n||(n=e);var h=Object.keys(t),c=h.length,u=!1;if(1===c&&"id"===h[0])return[o[t.id]];if((r=this.I)&&!i)for(var f=0;f<r.length;f++){var l=r[f],p=t[l];if(!w(p)){var d=this.B[l]["@"+p];if(0==--c)return d;h.splice(h.indexOf(l),1),delete t[l];break}}for(r=Array(c),f=0;f<c;f++)r[f]=h[f].split(":")}else{if(x(t)){for(n=(e=i||Object.keys(o)).length,h=0;h<n;h++)t(c=o[e[h]])&&(s[a++]=c);return s}if(w(e))return[o[t]];if("id"===t)return[o[e]];h=[t],c=1,r=[t.split(":")],u=!0}for(f=(i=d||i||Object.keys(o)).length,l=0;l<f;l++){p=d?i[l]:o[i[l]];for(var v=!0,g=0;g<c;g++){u||(e=t[h[g]]);var y=r[g],m=y.length,b=p;if(1<m)for(var E=0;E<m;E++)b=b[y[E]];else b=b[y[0]];if(b!==e){v=!1;break}}if(v&&(s[a++]=p,n&&a===n))break}return s},n.prototype.info=function(){if(!this.i)return{id:this.id,items:this.length,cache:!(!this.cache||!this.cache.C)&&this.cache.C.length,matcher:T.length+(this.h?this.h.length:0),worker:this.i,threshold:this.threshold,depth:this.depth,resolution:this.c,contextual:this.depth&&"strict"===this.g};for(var t=0;t<this.i;t++)this.b[t].postMessage({info:!0,id:this.id})},n.prototype.clear=function(){return this.destroy().init()},n.prototype.destroy=function(){if(this.cache&&(this.u.clear(),this.u=null),this.s=this.o=this.f=null,this.a){for(var t=this.a.keys,e=0;e<t.length;e++)this.a.index[t[e]].destroy();this.a=this.v=null}return this},n.prototype.export=function(t){var e=!t||w(t.serialize)||t.serialize;if(this.a){var n=!t||w(t.doc)||t.doc,i=!t||w(t.index)||t.index;t=[];var r=0;if(i)for(i=this.a.keys;r<i.length;r++){var o=this.a.index[i[r]];t[r]=[o.s,o.o,Object.keys(o.f)]}n&&(t[r]=this.v)}else t=[this.s,this.o,Object.keys(this.f)];return e&&(t=JSON.stringify(t)),t},n.prototype.import=function(t,e){(!e||w(e.serialize)||e.serialize)&&(t=JSON.parse(t));var n=S();if(this.a){var i=!e||w(e.doc)||e.doc,r=0;if(!e||w(e.index)||e.index){for(var o=(e=this.a.keys).length,s=t[0][2];r<s.length;r++)n[s[r]]=1;for(r=0;r<o;r++){s=this.a.index[e[r]];var a=t[r];a&&(s.s=a[0],s.o=a[1],s.f=n)}}i&&(this.v=k(i)?i:t[r])}else{for(i=t[2],r=0;r<i.length;r++)n[i[r]]=1;this.s=t[0],this.o=t[1],this.f=n}};var P,F,L,J,W=(F=h("\\s+"),L=h("[^a-z0-9 ]"),J=[h("[-/]")," ",L,"",F," "],function(t){return l(c(t.toLowerCase(),J))}),_={icase:function(t){return t.toLowerCase()},simple:function(){var t=h("\\s+"),e=h("[^a-z0-9 ]"),n=h("[-/]"),i=[h("[àáâãäå]"),"a",h("[èéêë]"),"e",h("[ìíîï]"),"i",h("[òóôõöő]"),"o",h("[ùúûüű]"),"u",h("[ýŷÿ]"),"y",h("ñ"),"n",h("[çc]"),"k",h("ß"),"s",h(" & ")," and ",n," ",e,"",t," "];return function(t){return" "===(t=c(t.toLowerCase(),i))?"":t}}(),advanced:function(){var t=h("ae"),e=h("ai"),n=h("ay"),i=h("ey"),r=h("oe"),o=h("ue"),s=h("ie"),a=h("sz"),u=h("zs"),f=h("ck"),p=h("cc"),d=[t,"a",e,"ei",n,"ei",i,"ei",r,"o",o,"u",s,"i",a,"s",u,"s",h("sh"),"s",f,"k",p,"k",h("th"),"t",h("dt"),"t",h("ph"),"f",h("pf"),"f",h("ou"),"o",h("uo"),"u"];return function(t,e){return t?(2<(t=this.simple(t)).length&&(t=c(t,d)),e||1<t.length&&(t=l(t)),t):t}}(),extra:(P=[h("p"),"b",h("z"),"s",h("[cgq]"),"k",h("n"),"m",h("d"),"t",h("[vw]"),"f",h("[aeiouy]"),""],function(t){if(!t)return t;if(1<(t=this.advanced(t,!0)).length){t=t.split(" ");for(var e=0;e<t.length;e++){var n=t[e];1<n.length&&(t[e]=n[0]+c(n.substring(1),P))}t=l(t=t.join(" "))}return t}),balance:W},z=function(){function t(t){this.clear(),this.J=!0!==t&&t}return t.prototype.clear=function(){this.cache=S(),this.count=S(),this.index=S(),this.C=[]},t.prototype.set=function(t,e){if(this.J&&w(this.cache[t])){var n=this.C.length;if(n===this.J){n--;var i=this.C[n];delete this.cache[i],delete this.count[i],delete this.index[i]}this.index[t]=n,this.C[n]=t,this.count[t]=-1,this.cache[t]=e,this.get(t)}else this.cache[t]=e},t.prototype.get=function(t){var e=this.cache[t];if(this.J&&e){var n=++this.count[t],i=this.index,r=i[t];if(0<r){for(var o=this.C,s=r;this.count[o[--r]]<=n&&-1!==r;);if(++r!==s){for(n=s;n>r;n--)s=o[n-1],o[n]=s,i[s]=n;o[r]=t,i[t]=r}}}return e},t}();return n}(function(){var t={},e="undefined"!=typeof Blob&&"undefined"!=typeof URL&&URL.createObjectURL;return function(n,i,r,o,s){return r=e?URL.createObjectURL(new Blob(["("+r.toString()+")()"],{type:"text/javascript"})):n+".es5.js",t[n+="-"+i]||(t[n]=[]),t[n][s]=new Worker(r),t[n][s].onmessage=o,console.log("Register Worker: "+n+"@"+s),t[n][s]}}()),this)},20731:(t,e,n)=>{var i=n(88668),r=n(47443),o=n(1196),s=n(29932),a=n(7518),h=n(74757);t.exports=function(t,e,n,c){var u=-1,f=r,l=!0,p=t.length,d=[],v=e.length;if(!p)return d;n&&(e=s(e,a(n))),c?(f=o,l=!1):e.length>=200&&(f=h,l=!1,e=new i(e));t:for(;++u<p;){var g=t[u],y=null==n?g:n(g);if(g=c||0!==g?g:0,l&&y==y){for(var m=v;m--;)if(e[m]===y)continue t;d.push(g)}else f(e,y,c)||d.push(g)}return d}},21078:(t,e,n)=>{var i=n(62488),r=n(37285);t.exports=function t(e,n,o,s,a){var h=-1,c=e.length;for(o||(o=r),a||(a=[]);++h<c;){var u=e[h];n>0&&o(u)?n>1?t(u,n-1,o,s,a):i(a,u):s||(a[a.length]=u)}return a}},37285:(t,e,n)=>{var i=n(62705),r=n(35694),o=n(1469),s=i?i.isConcatSpreadable:void 0;t.exports=function(t){return o(t)||r(t)||!!(s&&t&&t[s])}},91966:(t,e,n)=>{var i=n(20731),r=n(21078),o=n(5976),s=n(29246),a=o((function(t,e){return s(t)?i(t,r(e,1,s,!0)):[]}));t.exports=a},14293:t=>{t.exports=function(t){return null==t}},813:function(t){t.exports=function(){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},n=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r=function(){function t(n){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5e3;e(this,t),this.ctx=n,this.iframes=i,this.exclude=r,this.iframesTimeout=o}return n(t,[{key:"getContexts",value:function(){var t=[];return(void 0!==this.ctx&&this.ctx?NodeList.prototype.isPrototypeOf(this.ctx)?Array.prototype.slice.call(this.ctx):Array.isArray(this.ctx)?this.ctx:"string"==typeof this.ctx?Array.prototype.slice.call(document.querySelectorAll(this.ctx)):[this.ctx]:[]).forEach((function(e){var n=t.filter((function(t){return t.contains(e)})).length>0;-1!==t.indexOf(e)||n||t.push(e)})),t}},{key:"getIframeContents",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},i=void 0;try{var r=t.contentWindow;if(i=r.document,!r||!i)throw new Error("iframe inaccessible")}catch(t){n()}i&&e(i)}},{key:"isIframeBlank",value:function(t){var e="about:blank",n=t.getAttribute("src").trim();return t.contentWindow.location.href===e&&n!==e&&n}},{key:"observeIframeLoad",value:function(t,e,n){var i=this,r=!1,o=null,s=function s(){if(!r){r=!0,clearTimeout(o);try{i.isIframeBlank(t)||(t.removeEventListener("load",s),i.getIframeContents(t,e,n))}catch(t){n()}}};t.addEventListener("load",s),o=setTimeout(s,this.iframesTimeout)}},{key:"onIframeReady",value:function(t,e,n){try{"complete"===t.contentWindow.document.readyState?this.isIframeBlank(t)?this.observeIframeLoad(t,e,n):this.getIframeContents(t,e,n):this.observeIframeLoad(t,e,n)}catch(t){n()}}},{key:"waitForIframes",value:function(t,e){var n=this,i=0;this.forEachIframe(t,(function(){return!0}),(function(t){i++,n.waitForIframes(t.querySelector("html"),(function(){--i||e()}))}),(function(t){t||e()}))}},{key:"forEachIframe",value:function(e,n,i){var r=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},s=e.querySelectorAll("iframe"),a=s.length,h=0;s=Array.prototype.slice.call(s);var c=function(){--a<=0&&o(h)};a||c(),s.forEach((function(e){t.matches(e,r.exclude)?c():r.onIframeReady(e,(function(t){n(e)&&(h++,i(t)),c()}),c)}))}},{key:"createIterator",value:function(t,e,n){return document.createNodeIterator(t,e,n,!1)}},{key:"createInstanceOnIframe",value:function(e){return new t(e.querySelector("html"),this.iframes)}},{key:"compareNodeIframe",value:function(t,e,n){if(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_PRECEDING){if(null===e)return!0;if(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_FOLLOWING)return!0}return!1}},{key:"getIteratorNode",value:function(t){var e=t.previousNode();return{prevNode:e,node:(null===e||t.nextNode())&&t.nextNode()}}},{key:"checkIframeFilter",value:function(t,e,n,i){var r=!1,o=!1;return i.forEach((function(t,e){t.val===n&&(r=e,o=t.handled)})),this.compareNodeIframe(t,e,n)?(!1!==r||o?!1===r||o||(i[r].handled=!0):i.push({val:n,handled:!0}),!0):(!1===r&&i.push({val:n,handled:!1}),!1)}},{key:"handleOpenIframes",value:function(t,e,n,i){var r=this;t.forEach((function(t){t.handled||r.getIframeContents(t.val,(function(t){r.createInstanceOnIframe(t).forEachNode(e,n,i)}))}))}},{key:"iterateThroughNodes",value:function(t,e,n,i,r){for(var o=this,s=this.createIterator(e,t,i),a=[],h=[],c=void 0,u=void 0;f=void 0,f=o.getIteratorNode(s),u=f.prevNode,c=f.node;)this.iframes&&this.forEachIframe(e,(function(t){return o.checkIframeFilter(c,u,t,a)}),(function(e){o.createInstanceOnIframe(e).forEachNode(t,(function(t){return h.push(t)}),i)})),h.push(c);var f;h.forEach((function(t){n(t)})),this.iframes&&this.handleOpenIframes(a,t,n,i),r()}},{key:"forEachNode",value:function(t,e,n){var i=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},o=this.getContexts(),s=o.length;s||r(),o.forEach((function(o){var a=function(){i.iterateThroughNodes(t,o,e,n,(function(){--s<=0&&r()}))};i.iframes?i.waitForIframes(o,a):a()}))}}],[{key:"matches",value:function(t,e){var n="string"==typeof e?[e]:e,i=t.matches||t.matchesSelector||t.msMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;if(i){var r=!1;return n.every((function(e){return!i.call(t,e)||(r=!0,!1)})),r}return!1}}]),t}(),o=function(){function o(t){e(this,o),this.ctx=t,this.ie=!1;var n=window.navigator.userAgent;(n.indexOf("MSIE")>-1||n.indexOf("Trident")>-1)&&(this.ie=!0)}return n(o,[{key:"log",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"debug",i=this.opt.log;this.opt.debug&&"object"===(void 0===i?"undefined":t(i))&&"function"==typeof i[n]&&i[n]("mark.js: "+e)}},{key:"escapeStr",value:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}},{key:"createRegExp",value:function(t){return"disabled"!==this.opt.wildcards&&(t=this.setupWildcardsRegExp(t)),t=this.escapeStr(t),Object.keys(this.opt.synonyms).length&&(t=this.createSynonymsRegExp(t)),(this.opt.ignoreJoiners||this.opt.ignorePunctuation.length)&&(t=this.setupIgnoreJoinersRegExp(t)),this.opt.diacritics&&(t=this.createDiacriticsRegExp(t)),t=this.createMergedBlanksRegExp(t),(this.opt.ignoreJoiners||this.opt.ignorePunctuation.length)&&(t=this.createJoinersRegExp(t)),"disabled"!==this.opt.wildcards&&(t=this.createWildcardsRegExp(t)),this.createAccuracyRegExp(t)}},{key:"createSynonymsRegExp",value:function(t){var e=this.opt.synonyms,n=this.opt.caseSensitive?"":"i",i=this.opt.ignoreJoiners||this.opt.ignorePunctuation.length?"\0":"";for(var r in e)if(e.hasOwnProperty(r)){var o=e[r],s="disabled"!==this.opt.wildcards?this.setupWildcardsRegExp(r):this.escapeStr(r),a="disabled"!==this.opt.wildcards?this.setupWildcardsRegExp(o):this.escapeStr(o);""!==s&&""!==a&&(t=t.replace(new RegExp("("+this.escapeStr(s)+"|"+this.escapeStr(a)+")","gm"+n),i+"("+this.processSynomyms(s)+"|"+this.processSynomyms(a)+")"+i))}return t}},{key:"processSynomyms",value:function(t){return(this.opt.ignoreJoiners||this.opt.ignorePunctuation.length)&&(t=this.setupIgnoreJoinersRegExp(t)),t}},{key:"setupWildcardsRegExp",value:function(t){return(t=t.replace(/(?:\\)*\?/g,(function(t){return"\\"===t.charAt(0)?"?":""}))).replace(/(?:\\)*\*/g,(function(t){return"\\"===t.charAt(0)?"*":""}))}},{key:"createWildcardsRegExp",value:function(t){var e="withSpaces"===this.opt.wildcards;return t.replace(/\u0001/g,e?"[\\S\\s]?":"\\S?").replace(/\u0002/g,e?"[\\S\\s]*?":"\\S*")}},{key:"setupIgnoreJoinersRegExp",value:function(t){return t.replace(/[^(|)\\]/g,(function(t,e,n){var i=n.charAt(e+1);return/[(|)\\]/.test(i)||""===i?t:t+"\0"}))}},{key:"createJoinersRegExp",value:function(t){var e=[],n=this.opt.ignorePunctuation;return Array.isArray(n)&&n.length&&e.push(this.escapeStr(n.join(""))),this.opt.ignoreJoiners&&e.push("\\u00ad\\u200b\\u200c\\u200d"),e.length?t.split(/\u0000+/).join("["+e.join("")+"]*"):t}},{key:"createDiacriticsRegExp",value:function(t){var e=this.opt.caseSensitive?"":"i",n=this.opt.caseSensitive?["aàáảãạăằắẳẵặâầấẩẫậäåāą","AÀÁẢÃẠĂẰẮẲẴẶÂẦẤẨẪẬÄÅĀĄ","cçćč","CÇĆČ","dđď","DĐĎ","eèéẻẽẹêềếểễệëěēę","EÈÉẺẼẸÊỀẾỂỄỆËĚĒĘ","iìíỉĩịîïī","IÌÍỈĨỊÎÏĪ","lł","LŁ","nñňń","NÑŇŃ","oòóỏõọôồốổỗộơởỡớờợöøō","OÒÓỎÕỌÔỒỐỔỖỘƠỞỠỚỜỢÖØŌ","rř","RŘ","sšśșş","SŠŚȘŞ","tťțţ","TŤȚŢ","uùúủũụưừứửữựûüůū","UÙÚỦŨỤƯỪỨỬỮỰÛÜŮŪ","yýỳỷỹỵÿ","YÝỲỶỸỴŸ","zžżź","ZŽŻŹ"]:["aàáảãạăằắẳẵặâầấẩẫậäåāąAÀÁẢÃẠĂẰẮẲẴẶÂẦẤẨẪẬÄÅĀĄ","cçćčCÇĆČ","dđďDĐĎ","eèéẻẽẹêềếểễệëěēęEÈÉẺẼẸÊỀẾỂỄỆËĚĒĘ","iìíỉĩịîïīIÌÍỈĨỊÎÏĪ","lłLŁ","nñňńNÑŇŃ","oòóỏõọôồốổỗộơởỡớờợöøōOÒÓỎÕỌÔỒỐỔỖỘƠỞỠỚỜỢÖØŌ","rřRŘ","sšśșşSŠŚȘŞ","tťțţTŤȚŢ","uùúủũụưừứửữựûüůūUÙÚỦŨỤƯỪỨỬỮỰÛÜŮŪ","yýỳỷỹỵÿYÝỲỶỸỴŸ","zžżźZŽŻŹ"],i=[];return t.split("").forEach((function(r){n.every((function(n){if(-1!==n.indexOf(r)){if(i.indexOf(n)>-1)return!1;t=t.replace(new RegExp("["+n+"]","gm"+e),"["+n+"]"),i.push(n)}return!0}))})),t}},{key:"createMergedBlanksRegExp",value:function(t){return t.replace(/[\s]+/gim,"[\\s]+")}},{key:"createAccuracyRegExp",value:function(t){var e=this,n=this.opt.accuracy,i="string"==typeof n?n:n.value,r="string"==typeof n?[]:n.limiters,o="";switch(r.forEach((function(t){o+="|"+e.escapeStr(t)})),i){case"partially":default:return"()("+t+")";case"complementary":return"()([^"+(o="\\s"+(o||this.escapeStr("!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~¡¿")))+"]*"+t+"[^"+o+"]*)";case"exactly":return"(^|\\s"+o+")("+t+")(?=$|\\s"+o+")"}}},{key:"getSeparatedKeywords",value:function(t){var e=this,n=[];return t.forEach((function(t){e.opt.separateWordSearch?t.split(" ").forEach((function(t){t.trim()&&-1===n.indexOf(t)&&n.push(t)})):t.trim()&&-1===n.indexOf(t)&&n.push(t)})),{keywords:n.sort((function(t,e){return e.length-t.length})),length:n.length}}},{key:"isNumeric",value:function(t){return Number(parseFloat(t))==t}},{key:"checkRanges",value:function(t){var e=this;if(!Array.isArray(t)||"[object Object]"!==Object.prototype.toString.call(t[0]))return this.log("markRanges() will only accept an array of objects"),this.opt.noMatch(t),[];var n=[],i=0;return t.sort((function(t,e){return t.start-e.start})).forEach((function(t){var r=e.callNoMatchOnInvalidRanges(t,i),o=r.start,s=r.end;r.valid&&(t.start=o,t.length=s-o,n.push(t),i=s)})),n}},{key:"callNoMatchOnInvalidRanges",value:function(t,e){var n=void 0,i=void 0,r=!1;return t&&void 0!==t.start?(i=(n=parseInt(t.start,10))+parseInt(t.length,10),this.isNumeric(t.start)&&this.isNumeric(t.length)&&i-e>0&&i-n>0?r=!0:(this.log("Ignoring invalid or overlapping range: "+JSON.stringify(t)),this.opt.noMatch(t))):(this.log("Ignoring invalid range: "+JSON.stringify(t)),this.opt.noMatch(t)),{start:n,end:i,valid:r}}},{key:"checkWhitespaceRanges",value:function(t,e,n){var i=void 0,r=!0,o=n.length,s=e-o,a=parseInt(t.start,10)-s;return(i=(a=a>o?o:a)+parseInt(t.length,10))>o&&(i=o,this.log("End range automatically set to the max value of "+o)),a<0||i-a<0||a>o||i>o?(r=!1,this.log("Invalid range: "+JSON.stringify(t)),this.opt.noMatch(t)):""===n.substring(a,i).replace(/\s+/g,"")&&(r=!1,this.log("Skipping whitespace only range: "+JSON.stringify(t)),this.opt.noMatch(t)),{start:a,end:i,valid:r}}},{key:"getTextNodes",value:function(t){var e=this,n="",i=[];this.iterator.forEachNode(NodeFilter.SHOW_TEXT,(function(t){i.push({start:n.length,end:(n+=t.textContent).length,node:t})}),(function(t){return e.matchesExclude(t.parentNode)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}),(function(){t({value:n,nodes:i})}))}},{key:"matchesExclude",value:function(t){return r.matches(t,this.opt.exclude.concat(["script","style","title","head","html"]))}},{key:"wrapRangeInTextNode",value:function(t,e,n){var i=this.opt.element?this.opt.element:"mark",r=t.splitText(e),o=r.splitText(n-e),s=document.createElement(i);return s.setAttribute("data-markjs","true"),this.opt.className&&s.setAttribute("class",this.opt.className),s.textContent=r.textContent,r.parentNode.replaceChild(s,r),o}},{key:"wrapRangeInMappedTextNode",value:function(t,e,n,i,r){var o=this;t.nodes.every((function(s,a){var h=t.nodes[a+1];if(void 0===h||h.start>e){if(!i(s.node))return!1;var c=e-s.start,u=(n>s.end?s.end:n)-s.start,f=t.value.substr(0,s.start),l=t.value.substr(u+s.start);if(s.node=o.wrapRangeInTextNode(s.node,c,u),t.value=f+l,t.nodes.forEach((function(e,n){n>=a&&(t.nodes[n].start>0&&n!==a&&(t.nodes[n].start-=u),t.nodes[n].end-=u)})),n-=u,r(s.node.previousSibling,s.start),!(n>s.end))return!1;e=s.end}return!0}))}},{key:"wrapMatches",value:function(t,e,n,i,r){var o=this,s=0===e?0:e+1;this.getTextNodes((function(e){e.nodes.forEach((function(e){e=e.node;for(var r=void 0;null!==(r=t.exec(e.textContent))&&""!==r[s];)if(n(r[s],e)){var a=r.index;if(0!==s)for(var h=1;h<s;h++)a+=r[h].length;e=o.wrapRangeInTextNode(e,a,a+r[s].length),i(e.previousSibling),t.lastIndex=0}})),r()}))}},{key:"wrapMatchesAcrossElements",value:function(t,e,n,i,r){var o=this,s=0===e?0:e+1;this.getTextNodes((function(e){for(var a=void 0;null!==(a=t.exec(e.value))&&""!==a[s];){var h=a.index;if(0!==s)for(var c=1;c<s;c++)h+=a[c].length;var u=h+a[s].length;o.wrapRangeInMappedTextNode(e,h,u,(function(t){return n(a[s],t)}),(function(e,n){t.lastIndex=n,i(e)}))}r()}))}},{key:"wrapRangeFromIndex",value:function(t,e,n,i){var r=this;this.getTextNodes((function(o){var s=o.value.length;t.forEach((function(t,i){var a=r.checkWhitespaceRanges(t,s,o.value),h=a.start,c=a.end;a.valid&&r.wrapRangeInMappedTextNode(o,h,c,(function(n){return e(n,t,o.value.substring(h,c),i)}),(function(e){n(e,t)}))})),i()}))}},{key:"unwrapMatches",value:function(t){for(var e=t.parentNode,n=document.createDocumentFragment();t.firstChild;)n.appendChild(t.removeChild(t.firstChild));e.replaceChild(n,t),this.ie?this.normalizeTextNode(e):e.normalize()}},{key:"normalizeTextNode",value:function(t){if(t){if(3===t.nodeType)for(;t.nextSibling&&3===t.nextSibling.nodeType;)t.nodeValue+=t.nextSibling.nodeValue,t.parentNode.removeChild(t.nextSibling);else this.normalizeTextNode(t.firstChild);this.normalizeTextNode(t.nextSibling)}}},{key:"markRegExp",value:function(t,e){var n=this;this.opt=e,this.log('Searching with expression "'+t+'"');var i=0,r="wrapMatches";this.opt.acrossElements&&(r="wrapMatchesAcrossElements"),this[r](t,this.opt.ignoreGroups,(function(t,e){return n.opt.filter(e,t,i)}),(function(t){i++,n.opt.each(t)}),(function(){0===i&&n.opt.noMatch(t),n.opt.done(i)}))}},{key:"mark",value:function(t,e){var n=this;this.opt=e;var i=0,r="wrapMatches",o=this.getSeparatedKeywords("string"==typeof t?[t]:t),s=o.keywords,a=o.length,h=this.opt.caseSensitive?"":"i";this.opt.acrossElements&&(r="wrapMatchesAcrossElements"),0===a?this.opt.done(i):function t(e){var o=new RegExp(n.createRegExp(e),"gm"+h),c=0;n.log('Searching with expression "'+o+'"'),n[r](o,1,(function(t,r){return n.opt.filter(r,e,i,c)}),(function(t){c++,i++,n.opt.each(t)}),(function(){0===c&&n.opt.noMatch(e),s[a-1]===e?n.opt.done(i):t(s[s.indexOf(e)+1])}))}(s[0])}},{key:"markRanges",value:function(t,e){var n=this;this.opt=e;var i=0,r=this.checkRanges(t);r&&r.length?(this.log("Starting to mark with the following ranges: "+JSON.stringify(r)),this.wrapRangeFromIndex(r,(function(t,e,i,r){return n.opt.filter(t,e,i,r)}),(function(t,e){i++,n.opt.each(t,e)}),(function(){n.opt.done(i)}))):this.opt.done(i)}},{key:"unmark",value:function(t){var e=this;this.opt=t;var n=this.opt.element?this.opt.element:"*";n+="[data-markjs]",this.opt.className&&(n+="."+this.opt.className),this.log('Removal selector "'+n+'"'),this.iterator.forEachNode(NodeFilter.SHOW_ELEMENT,(function(t){e.unwrapMatches(t)}),(function(t){var i=r.matches(t,n),o=e.matchesExclude(t);return!i||o?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}),this.opt.done)}},{key:"opt",set:function(t){this._opt=i({},{element:"",className:"",exclude:[],iframes:!1,iframesTimeout:5e3,separateWordSearch:!0,diacritics:!0,synonyms:{},accuracy:"partially",acrossElements:!1,caseSensitive:!1,ignoreJoiners:!1,ignoreGroups:0,ignorePunctuation:[],wildcards:"disabled",each:function(){},noMatch:function(){},filter:function(){return!0},done:function(){},debug:!1,log:window.console},t)},get:function(){return this._opt}},{key:"iterator",get:function(){return new r(this.ctx,this.opt.iframes,this.opt.exclude,this.opt.iframesTimeout)}}]),o}();return function(t){var e=this,n=new o(t);return this.mark=function(t,i){return n.mark(t,i),e},this.markRegExp=function(t,i){return n.markRegExp(t,i),e},this.markRanges=function(t,i){return n.markRanges(t,i),e},this.unmark=function(t){return n.unmark(t),e},this}}()}}]);
//# sourceMappingURL=6530.206b76ce88911dc954e6.js.map