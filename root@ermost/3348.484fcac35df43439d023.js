"use strict";(self.webpackChunkmattermost_webapp=self.webpackChunkmattermost_webapp||[]).push([[3348],{53348:(e,t,n)=>{n.r(t),n.d(t,{default:()=>z});var a=n(64323),r=n(97779),i=n(24897),o=n(39346),s=n(12707),l=n(9276),c=n(80555),u=n(53497),d=n(26175),m=n(61958),h=n(48431),p=n.n(h),b=(n(33948),n(41817),n(94184)),g=n.n(b),f=n(54156),v=n.n(f),C=n(21005),E=n(12562),y=n(906);class R extends v().PureComponent{render(){return this.props.unreadMentionCount?v().createElement("span",{className:"badge badge-notify"},this.props.unreadMentionCount):this.props.isUnread?v().createElement("span",{className:"badge badge-notify"},"â€¢"):null}}const M=(0,a.connect)((function(e){return(0,l.oQ)((0,l.kq)(e))}))(R);var w=n(69113);const L=e=>v().createElement("button",{key:"navbar-toggle-sidebar",type:"button",className:"navbar-toggle","data-toggle":"collapse","data-target":"#sidebar-nav",onClick:e.actions.toggleLhs},v().createElement("span",{className:"sr-only"},v().createElement(C.FormattedMessage,{id:"navbar.toggle2",defaultMessage:"Toggle sidebar"})),v().createElement(w.Z,{className:"style--none icon icon__menu icon--sidebarHeaderTextColor"}),v().createElement(M,null));L.propTypes={actions:p().shape({toggleLhs:p().func.isRequired}).isRequired};const _=L,S=(0,a.connect)(null,(e=>({actions:(0,r.bindActionCreators)({toggleLhs:d.ZN},e)})))(_),k=e=>v().createElement("button",{key:"navbar-toggle-menu",type:"button",className:"navbar-toggle navbar-right__icon menu-toggle pull-right","data-toggle":"collapse","data-target":"#sidebar-nav",onClick:e.actions.toggleRhsMenu},v().createElement(w.Z,null));k.propTypes={actions:p().shape({toggleRhsMenu:p().func.isRequired}).isRequired};const N=k,q=(0,a.connect)(null,(e=>({actions:(0,r.bindActionCreators)({toggleRhsMenu:u.IM},e)})))(N);var P=n(54779);function T(e){const{formatMessage:t}=(0,C.useIntl)();return v().createElement("span",e,v().createElement("svg",{width:"18px",height:"18px",viewBox:"0 0 22 22",role:"img","aria-label":t({id:"generic_icons.info",defaultMessage:"Info Icon"})},v().createElement("g",{stroke:"none",strokeWidth:"1",fill:"inherit",fillRule:"evenodd"},v().createElement("g",{transform:"translate(-388.000000, -18.000000)",fill:"inherit"},v().createElement("g",null,v().createElement("g",{transform:"translate(381.000000, 11.000000)"},v().createElement("g",{transform:"translate(7.000000, 7.000000)"},v().createElement("path",{d:"M11,22 C4.92486775,22 0,17.0751322 0,11 C0,4.92486775 4.92486775,0 11,0 C17.0751322,0 22,4.92486775 22,11 C22,17.0751322 17.0751322,22 11,22 Z M11,20.7924685 C16.408231,20.7924685 20.7924685,16.408231 20.7924685,11 C20.7924685,5.59176898 16.408231,1.20753149 11,1.20753149 C5.59176898,1.20753149 1.20753149,5.59176898 1.20753149,11 C1.20753149,16.408231 5.59176898,20.7924685 11,20.7924685 Z M10.1572266,16.0625 L10.1572266,8.69335938 L11.3466797,8.69335938 L11.3466797,16.0625 L10.1572266,16.0625 Z M10.7519531,7.50390625 C10.3417969,7.50390625 10,7.16210938 10,6.75195312 C10,6.33496094 10.3417969,6 10.7519531,6 C11.1689453,6 11.5039062,6.33496094 11.5039062,6.75195312 C11.5039062,7.16210938 11.1689453,7.50390625 10.7519531,7.50390625 Z"}))))))))}const x=e=>{let{channel:t,actions:n}=e;return v().createElement("button",{className:"navbar-toggle navbar-right__icon navbar-info-button pull-right","aria-label":(0,P._u)("accessibility.button.Info","Info"),onClick:()=>n.showChannelInfo(t.id)},v().createElement(T,{className:"icon icon__info","aria-hidden":"true"}))};x.propTypes={actions:p().shape({showChannelInfo:p().func.isRequired}).isRequired};const Z=x,I=(0,a.connect)(null,(function(e){return{actions:(0,r.bindActionCreators)({showChannelInfo:u.P_},e)}}))(Z);var j=n(2192);function H(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,"string");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class A extends v().PureComponent{constructor(){super(...arguments),H(this,"handleClick",(()=>{this.props.actions.openRHSSearch()}))}render(){return v().createElement("button",{type:"button",className:"navbar-toggle navbar-right__icon navbar-search pull-right",onClick:this.handleClick,"aria-label":(0,P._u)("accessibility.button.Search","Search")},v().createElement(j.Z,{className:"icon icon__search","aria-hidden":"true"}))}}H(A,"propTypes",{actions:p().shape({openRHSSearch:p().func.isRequired}).isRequired});const D=(0,a.connect)(null,(e=>({actions:(0,r.bindActionCreators)({openRHSSearch:u.Xv},e)})))(A);var O=n(88229),B=n(71124);function F(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,"string");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class G extends v().PureComponent{constructor(){super(...arguments),F(this,"handleClick",(()=>{const{user:e,channel:t,actions:{updateChannelNotifyProps:n}}=this.props;n(e.id,t.id,{mark_unread:B.XH.ALL})}))}render(){return v().createElement("button",{type:"button",className:"navbar-toggle icon icon__mute",onClick:this.handleClick},v().createElement("span",{className:"fa fa-bell-slash-o icon"}))}}F(G,"propTypes",{user:p().shape({id:p().string.isRequired}).isRequired,channel:p().shape({id:p().string.isRequired}).isRequired,actions:p().shape({updateChannelNotifyProps:p().func.isRequired}).isRequired});const U=(0,a.connect)(null,(e=>({actions:(0,r.bindActionCreators)({updateChannelNotifyProps:O.n$},e)})))(G);function W(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,"string");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class V extends v().PureComponent{constructor(){super(...arguments),W(this,"hideSidebars",(e=>{if(this.props.isMobileView){this.props.isRHSOpen&&this.props.actions.closeRhs();const t=e.target;t&&"navbar-toggle"!==t.className&&"icon-bar"!==t.className&&(this.props.actions.closeLhs(),this.props.actions.closeRhsMenu())}}))}componentDidMount(){var e;null===(e=document.querySelector(".inner-wrap"))||void 0===e||e.addEventListener("click",this.hideSidebars)}componentWillUnmount(){var e;null===(e=document.querySelector(".inner-wrap"))||void 0===e||e.removeEventListener("click",this.hideSidebars)}render(){const{user:e,channel:t,isMuted:n,inGlobalThreads:a,inDrafts:r}=this.props;let i;return a?i=v().createElement(C.FormattedMessage,{id:"globalThreads.heading",defaultMessage:"Followed threads"}):r?i=v().createElement(C.FormattedMessage,{id:"drafts.heading",defaultMessage:"Drafts"}):t&&(i=v().createElement(v().Fragment,null,v().createElement(E.bd,null),n&&v().createElement(U,{user:e,channel:t}))),v().createElement("nav",{id:"navbar",className:"navbar navbar-default navbar-fixed-top",role:"navigation"},v().createElement("div",{className:"container-fluid theme"},v().createElement("div",{className:"navbar-header"},v().createElement(S,null),v().createElement("div",{className:g()("navbar-brand",{GlobalThreads___title:a})},i),v().createElement("div",{className:"spacer"}),t&&v().createElement(I,{channel:t}),v().createElement(D,null),t&&v().createElement(y.Z,{channel:t,isDropdown:!1}),v().createElement(q,null))))}}W(V,"propTypes",{currentRelativeTeamUrl:p().string,inGlobalThreads:p().bool,inDrafts:p().bool,isMobileView:p().bool.isRequired,isMuted:p().bool,isReadOnly:p().bool,isRHSOpen:p().bool,actions:p().shape({closeLhs:p().func.isRequired,closeRhs:p().func.isRequired,closeRhsMenu:p().func.isRequired}).isRequired});const X=(0,o.P1)("isCurrentChannelMuted",l.HU,(e=>(0,c.Mm)(e))),z=(0,i.withRouter)((0,a.connect)(((e,t)=>({user:(0,s.ts)(e),channel:(0,l.TB)(e),isMobileView:(0,m.E7)(e),isMuted:X(e),inGlobalThreads:Boolean((0,i.matchPath)(t.location.pathname,{path:"/:team/threads/:threadIdentifier?"})),inDrafts:Boolean((0,i.matchPath)(t.location.pathname,{path:"/:team/drafts"}))})),(e=>({actions:(0,r.bindActionCreators)({closeLhs:d.xv,closeRhs:u.Lg,closeRhsMenu:u.Wj},e)})))(V))},69113:(e,t,n)=>{n.d(t,{Z:()=>o});var a=n(54156),r=n.n(a),i=n(21005);function o(e){const{formatMessage:t}=(0,i.useIntl)();return r().createElement("span",e,r().createElement("svg",{width:"16px",height:"10px",viewBox:"0 0 16 10",version:"1.1",role:"img","aria-label":t({id:"generic_icons.menu",defaultMessage:"Menu Icon"})},r().createElement("g",{stroke:"none",strokeWidth:"1",fill:"inherit",fillRule:"evenodd"},r().createElement("g",{transform:"translate(-188.000000, -38.000000)",fillRule:"nonzero",fill:"inherit"},r().createElement("g",null,r().createElement("g",null,r().createElement("g",{transform:"translate(188.000000, 38.000000)"},r().createElement("path",{d:"M15.5,0 C15.776,0 16,0.224 16,0.5 L16,1.5 C16,1.776 15.776,2 15.5,2 L0.5,2 C0.224,2 0,1.776 0,1.5 L0,0.5 C0,0.224 0.224,0 0.5,0 L15.5,0 Z M15.5,4 C15.776,4 16,4.224 16,4.5 L16,5.5 C16,5.776 15.776,6 15.5,6 L0.5,6 C0.224,6 0,5.776 0,5.5 L0,4.5 C0,4.224 0.224,4 0.5,4 L15.5,4 Z M15.5,8 C15.776,8 16,8.224 16,8.5 L16,9.5 C16,9.776 15.776,10 15.5,10 L0.5,10 C0.224,10 0,9.776 0,9.5 L0,8.5 C0,8.224 0.224,8 0.5,8 L15.5,8 Z"}))))))))}}}]);
//# sourceMappingURL=3348.484fcac35df43439d023.js.map